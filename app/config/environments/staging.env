# Riya Collections - Staging Environment Configuration
# This file contains staging-specific settings for pre-production testing

# Application Configuration
APP_NAME="Riya Collections (Staging)"
APP_ENV=staging
APP_DEBUG=true
APP_URL=https://staging.riyacollections.com
APP_TIMEZONE=Asia/Kolkata
APP_LOCALE=en
APP_VERSION=1.0.0-staging
MAINTENANCE_MODE=false

# Database Configuration - Staging Database
DB_HOST=localhost
DB_PORT=3306
DB_NAME=riya_collections_staging
DB_USER=staging_user
DB_PASSWORD=secure_staging_password_change_me
DB_CHARSET=utf8mb4
DB_COLLATION=utf8mb4_unicode_ci
DB_CONNECTION_LIMIT=8

# JWT Configuration - Staging Keys (Different from production!)
JWT_SECRET=staging_jwt_secret_key_minimum_32_characters_long_change_for_production
JWT_EXPIRES_IN=24h
JWT_REFRESH_SECRET=staging_refresh_secret_key_different_from_jwt_change_for_production
JWT_REFRESH_EXPIRES_IN=7d
JWT_ISSUER=riya-collections-staging
JWT_AUDIENCE=riya-collections-staging-users

# Password Hashing - Production-like but slightly faster
BCRYPT_SALT_ROUNDS=10

# Email Configuration - Staging (Use test email service)
SMTP_HOST=smtp.mailtrap.io
SMTP_PORT=2525
SMTP_SECURE=false
SMTP_USER=staging_mailtrap_username
SMTP_PASSWORD=staging_mailtrap_password

# Company Email Settings - Staging
COMPANY_NAME="Riya Collections (Staging)"
COMPANY_EMAIL=staging-orders@riyacollections.com
SUPPORT_EMAIL=staging-support@riyacollections.com
WEBSITE_URL=https://staging.riyacollections.com
LOGO_URL=https://staging.riyacollections.com/assets/images/logo.png

# Razorpay Configuration - Test Mode
RAZORPAY_KEY_ID=rzp_test_XXXXXXXXXXXXXXXX
RAZORPAY_KEY_SECRET=your_test_razorpay_secret_key_staging
RAZORPAY_WEBHOOK_SECRET=your_test_webhook_secret_staging
RAZORPAY_CURRENCY=INR
RAZORPAY_TEST_MODE=true

# File Upload Configuration - Staging (Slightly restricted)
UPLOAD_PATH=uploads
MAX_FILE_SIZE=5242880
ALLOWED_FILE_TYPES=jpg,jpeg,png,webp
IMAGE_QUALITY=80
MAX_IMAGE_WIDTH=1920
MAX_IMAGE_HEIGHT=1080
UPLOAD_SCAN_SECURITY=true
UPLOAD_VIRUS_SCAN=false
UPLOAD_MAX_FILES=15

# Security Configuration - Production-like but relaxed for testing
RATE_LIMITING_ENABLED=true
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=200
SESSION_SECRET=staging_session_secret_change_for_production
ALLOWED_ORIGINS=https://staging.riyacollections.com,http://localhost:3000,http://localhost:8080
FORCE_HTTPS=true
SECURE_COOKIES=true

# PHP Configuration - Staging
PHP_MEMORY_LIMIT=256M
PHP_MAX_EXECUTION_TIME=60
PHP_MAX_INPUT_TIME=60

# Logging Configuration - Detailed for debugging
LOG_LEVEL=info
LOG_FILE=logs/app.log
LOG_MAX_FILES=7
LOG_MAX_SIZE=10MB
LOG_DAILY_ROTATION=true
LOG_FORMAT=json
LOG_ASSET_REQUESTS=false

# Asset Configuration - Staging optimized
ENABLE_ASSET_COMPRESSION=true
COMPRESSION_LEVEL=6
COMPRESSION_MIN_SIZE=1024
COMPRESSIBLE_TYPES=text/css,application/javascript,text/html,application/json,image/svg+xml
ENABLE_ASSET_CACHING=true
ASSET_CACHE_DURATION=3600
ENABLE_ETAG=true
ENABLE_LAST_MODIFIED=true
MAX_ASSET_SIZE=52428800
ASSET_ALLOWED_DIRS=public/assets,public/uploads,public/pages
ASSET_BLOCKED_EXTENSIONS=php,exe,bat,sh,py
ENABLE_RANGE_REQUESTS=true

# Staging Features - Mixed production/development
CACHE_ENABLED=true
CACHE_TTL=1800
DB_QUERY_CACHE=true
OPTIMIZE_IMAGES=true
COMPRESS_RESPONSES=true
ENABLE_CORS_ALL=false
ENABLE_DEBUG_TOOLBAR=false
SHOW_ERROR_DETAILS=true

# Backup Configuration - Staging
BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=7
BACKUP_PATH=storage/backups

# Monitoring Configuration - Staging
HEALTH_CHECK_ENABLED=true
PERFORMANCE_MONITORING=true
ERROR_REPORTING_EMAIL=staging-alerts@riyacollections.com

# Frontend Configuration - Staging
FRONTEND_URL=https://staging.riyacollections.com

# Testing Configuration - Staging
ENABLE_TEST_ROUTES=true
MOCK_EXTERNAL_SERVICES=false
SEED_TEST_DATA=true

# Staging Database Configuration
DB_SEED_USERS=true
DB_SEED_PRODUCTS=true
DB_SEED_CATEGORIES=true
DB_SEED_ORDERS=true

# Staging API Configuration
API_RATE_LIMIT_BYPASS=false
API_DETAILED_ERRORS=true
API_CORS_DEBUG=false

# Staging Asset Versioning
ASSET_VERSIONING_ENABLED=true
ASSET_VERSION_STRATEGY=hash

# Staging Security - Production-like
CSRF_PROTECTION=true
SQL_INJECTION_PROTECTION=true
XSS_PROTECTION=true
CLICKJACKING_PROTECTION=true

# Staging Performance Monitoring
QUERY_LOGGING=false
SLOW_QUERY_THRESHOLD=2000
MEMORY_USAGE_LOGGING=false

# SSL Configuration - Staging
SSL_VERIFY_PEER=true
SSL_VERIFY_HOST=true
SSL_CAINFO_PATH=/etc/ssl/certs/ca-certificates.crt

# Staging Specific Features
STAGING_BANNER_ENABLED=true
STAGING_BANNER_MESSAGE="This is a staging environment - Data may be reset"
STAGING_PASSWORD_PROTECTION=false
STAGING_IP_WHITELIST=

# External Service Configuration - Staging
EXTERNAL_API_TIMEOUT=30
EXTERNAL_API_RETRIES=3
EXTERNAL_API_CACHE_TTL=300